/*! For license information please see controls.js.LICENSE.txt */
"use strict";(self.webpackChunksend_cloud=self.webpackChunksend_cloud||[]).push([["controls"],{"./src/components/calculation/controls/elements/aircond.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"AirCondEl\": function() { return /* binding */ AirCondEl; }\n/* harmony export */ });\nconst HEAT_THREASHOLD = 10;\n\nconst el$ = document.getElementById('air-cond');\n\n/** Air Conditioner Button. */\nclass AirCondEl {\n    onClick(cb) {\n        el$.addEventListener('click', cb);\n    }\n\n    applyStyles({ air, temperature }) {\n        let title = '';\n\n        if (temperature > HEAT_THREASHOLD) {\n            title = 'AC';\n            el$.setAttribute('data-state', 'fan');\n        } else {\n            title = 'HEAT';\n            el$.setAttribute('data-state', 'heat');\n        }\n\n        if (air === \"off\") {\n            el$.querySelector('span').innerText = title + \" OFF\";\n            el$.setAttribute('data-pressed', false);\n        } else {\n            el$.querySelector('span').innerText = title + \" ON\";\n            el$.setAttribute('data-pressed', true);\n        }\n    }\n}\n\n\n//# sourceURL=webpack://send-cloud/./src/components/calculation/controls/elements/aircond.js?")},"./src/components/calculation/controls/elements/form.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"FormEl\": function() { return /* binding */ FormEl; }\n/* harmony export */ });\n/* harmony import */ var appcomponents_calculation_metrics__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! appcomponents/calculation/metrics */ \"./src/components/calculation/metrics/index.js\");\n/* harmony import */ var _aircond__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./aircond */ \"./src/components/calculation/controls/elements/aircond.js\");\n/* harmony import */ var _wheel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./wheel */ \"./src/components/calculation/controls/elements/wheel.js\");\n/* harmony import */ var _temperature__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./temperature */ \"./src/components/calculation/controls/elements/temperature.js\");\n/* harmony import */ var _speed__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./speed */ \"./src/components/calculation/controls/elements/speed.js\");\n\n\n\n\n\n\n\n\nconst form$ = document.forms['controls'];\n\n\nclass FormEl {\n    constructor() {\n        form$['air'].value = \"off\";\n        form$['wheelsize'].value = 19;\n        form$['speed'].value = 100;\n        form$['temperature'].value = 20;\n\n        this.#preventDefault();\n\n        this.#airCondEl = new _aircond__WEBPACK_IMPORTED_MODULE_1__.AirCondEl();\n        this.#airCondEl.onClick(this.#toggleAirCond);\n\n        this.#wheelEl = new _wheel__WEBPACK_IMPORTED_MODULE_2__.WheelEl();\n        this.#wheelEl.onClick(this.#changeWheelRadius);\n\n        this.#temperatureEl = new _temperature__WEBPACK_IMPORTED_MODULE_3__.TemperatureEl();\n        this.#temperatureEl.onClick(this.#changeTemperature);\n\n        this.#speedEl = new _speed__WEBPACK_IMPORTED_MODULE_4__.SpeedEl();\n        this.#speedEl.onClick(this.#changeSpeed);\n    }\n\n    #airCondEl;\n    #wheelEl;\n    #temperatureEl;\n    #speedEl;\n\n    setUpInit() {\n        const data = this.#getInputControls();\n        this.#airCondEl.applyStyles(data);\n        this.#wheelEl.applyStyles(data);\n        (0,appcomponents_calculation_metrics__WEBPACK_IMPORTED_MODULE_0__.applyResult)(data);\n    }\n\n    #preventDefault() {\n        form$.addEventListener('click', el$ => {\n            el$.preventDefault();\n        });\n    }\n\n    #getInputControls() {\n        const formData = new FormData(form$);\n        const formProps = Object.fromEntries(formData);\n        const { temperature, speed, air, wheelsize } = formProps;\n\n        return { temperature: +temperature, speed: +speed, air, wheelsize: +wheelsize };\n    }\n\n    #updateValue(key, val) {\n        form$[key].value = val;\n        return this.#getInputControls();\n    }\n\n    #toggleAirCond = () => {\n        const { air } = this.#getInputControls();\n        const data = this.#updateValue('air', air === \"off\" ? \"on\" : \"off\");\n        this.#airCondEl.applyStyles(data);\n        (0,appcomponents_calculation_metrics__WEBPACK_IMPORTED_MODULE_0__.applyResult)(data);\n    }\n\n    #changeWheelRadius = (wheelsize) => {\n        const data = this.#updateValue('wheelsize', wheelsize);\n        this.#wheelEl.applyStyles(data);\n        (0,appcomponents_calculation_metrics__WEBPACK_IMPORTED_MODULE_0__.applyResult)(data);\n    }\n\n    #changeTemperature = (el$, step, range, isDown = false) => {\n        const { temperature } = this.#getInputControls();\n        if (isDown) {\n            step = -1 * step;\n        }\n        const data = this.#updateValue('temperature', fixRange(el$, temperature + step, range));\n        this.#airCondEl.applyStyles(data);\n        (0,appcomponents_calculation_metrics__WEBPACK_IMPORTED_MODULE_0__.applyResult)(data);\n    }\n\n    #changeSpeed = (el$, step, range, isDown = false) => {\n        const { speed } = this.#getInputControls();\n        if (isDown) {\n            step = -1 * step;\n        }\n        const data = this.#updateValue('speed', fixRange(el$, speed + step, range));\n        (0,appcomponents_calculation_metrics__WEBPACK_IMPORTED_MODULE_0__.applyResult)(data);\n    }\n}\n\n\nfunction fixRange(el$, val, range) {\n    el$ = el$.target.closest('button');\n    el$.parentNode.querySelectorAll(\".control__svg-disabled\")\n        .forEach(e$ => e$.classList.remove('control__svg-disabled'));\n\n    if (val <= range[0]) {\n        addDisabledControlStyle(el$);\n        return range[0];\n    } else if (val >= range[1]) {\n        addDisabledControlStyle(el$);\n        return range[1];\n    }\n    return val;\n}\n\nfunction addDisabledControlStyle(el$) {\n    const elem$ = el$.querySelector(\"img\");\n    if (elem$) {\n        elem$.classList.add('control__svg-disabled');\n    }\n}\n\n\n//# sourceURL=webpack://send-cloud/./src/components/calculation/controls/elements/form.js?")},"./src/components/calculation/controls/elements/speed.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SpeedEl\": function() { return /* binding */ SpeedEl; }\n/* harmony export */ });\nconst SPEED_STEP = 10;\nconst SPEED_RANGE = [70, 140];\n\nconst elUp$ = document.querySelector('[data-speed=\"up\"]');\nconst elDown$ = document.querySelector('[data-speed=\"down\"]');\n\n/** Speed Control. */\nclass SpeedEl {\n    onClick(cb) {\n        elUp$.addEventListener('click', (el$) => {\n            cb(el$, SPEED_STEP, SPEED_RANGE);\n        });\n\n        elDown$.addEventListener('click', (el$) => {\n            cb(el$, SPEED_STEP, SPEED_RANGE, true);\n        });\n    }\n}\n\n\n//# sourceURL=webpack://send-cloud/./src/components/calculation/controls/elements/speed.js?")},"./src/components/calculation/controls/elements/temperature.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"TemperatureEl\": function() { return /* binding */ TemperatureEl; }\n/* harmony export */ });\nconst TEMPERATURE_STEP = 10;\nconst TEMPERATURE_RANGE = [-10, 40];\n\nconst elUp$ = document.querySelector('[data-temperature=\"up\"]');\nconst elDown$ = document.querySelector('[data-temperature=\"down\"]');\n\n/** Temperature Control. */\nclass TemperatureEl {\n    onClick(cb) {\n        elUp$.addEventListener('click', (el$) => {\n            cb(el$, TEMPERATURE_STEP, TEMPERATURE_RANGE);\n        });\n\n        elDown$.addEventListener('click', (el$) => {\n            cb(el$, TEMPERATURE_STEP, TEMPERATURE_RANGE, true);\n        });\n    }\n}\n\n\n//# sourceURL=webpack://send-cloud/./src/components/calculation/controls/elements/temperature.js?")},"./src/components/calculation/controls/elements/wheel.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"WheelEl\": function() { return /* binding */ WheelEl; }\n/* harmony export */ });\nconst els$ = document.querySelectorAll('button[data-wheel]');\n\n/** Wheels Radius Control. */\nclass WheelEl {\n    onClick(cb) {\n        els$.forEach(btn$ => {\n            btn$.addEventListener('click', (el$) => {\n                cb(el$.target.closest(\"button\").getAttribute('data-wheel'));\n            });\n        });\n    }\n\n    applyStyles({wheelsize}) {\n        document\n            .querySelector(`button[data-wheel=\"${wheelsize}\"]`)\n            .classList\n            .add('control__wheel-button_selected');\n\n        document\n            .querySelector(`button[data-wheel]:not([data-wheel=\"${wheelsize}\"])`)\n            .classList\n            .remove('control__wheel-button_selected');\n    }\n}\n\n\n//# sourceURL=webpack://send-cloud/./src/components/calculation/controls/elements/wheel.js?")},"./src/components/calculation/controls/logic.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _elements_form__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./elements/form */ "./src/components/calculation/controls/elements/form.js");\n\n\nconst form = new _elements_form__WEBPACK_IMPORTED_MODULE_0__.FormEl();\nform.setUpInit();\n\n\n//# sourceURL=webpack://send-cloud/./src/components/calculation/controls/logic.js?')}}]);